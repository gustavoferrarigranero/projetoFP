{% extends 'base.html' %}

{% block titulo %}Formulário da Caixa{% endblock titulo %}

{% block conteudo %}
<form class="form-horizontal" action="/caixas/salvar/" method="POST" role="form">{% csrf_token %}

    <input type="hidden" id="codigo" name="codigo" value="{{ caixa.pk|default_if_none:'0' }}">

    <div class="form-group">
        <label for="idPessoa" class="col-sm-2 control-label">Pessoa</label>
        <div class="col-sm-10">
            <select id="idPessoa" name="pessoa" class="form-control">
                <option value="0">Selecione...</option>
                {% if pessoas %}
                    {% for pessoa in pessoas %}
                        {% ifequal caixa.pessoa.pk pessoa.pk %}
                            <option selected=""selected" value="{{ pessoa.pk }}">{{ pessoa.nome }}</option>
                        {% else %}
                            <option value="{{ pessoa.pk }}">{{ pessoa.nome }}</option>
                        {% endifequal %}
                    {% endfor %}
                {% endif %}
            </select>
        </div>
    </div>
    
    <div class="form-group">
        <label for="idTipo" class="col-sm-2 control-label">Tipo</label>
        <div class="col-sm-10">
            <select id="idTipo" name="tipo" class="form-control">
                <option value="0">Selecione...</option>
                {% ifequal caixa.tipo 'E' %}
                    <option selected="selected" value="E">ENTRADA</option>
                {% else %}
                    <option value="E">ENTRADA</option>
                {% endifequal %}
                {% ifequal caixa.tipo 'S' %}
                    <option selected="selected" value="S">SAÍDA</option>
                {% else %}
                    <option value="S">SAÍDA</option>
                {% endifequal %}
            </select>
        </div>
    </div>

    <div class="form-group">
        <label for="idDescricao" class="col-sm-2 control-label">Descrição</label>
        <div class="col-sm-10">
            <input name="descricao" id="idDescricao" value="{{ caixa.descricao|default_if_none:'' }}" type="text" class="form-control"  placeholder="descrição...">
        </div>
    </div>
    
    <div class="form-group">
        <label for="idValor" class="col-sm-2 control-label">Valor</label>
        <div class="col-sm-3">
            <input name="valor" id="idValor" value="{{ caixa.valor|default_if_none:'0,00' }}" type="text" class="form-control"  placeholder="valor: #.##">
        </div>
        <label for="idData" class="col-sm-2 control-label">Data</label>
        <div class="col-sm-3">
            <input name="data" id="idData" value="{{ caixa.data|date:"d/m/Y H:i:s"}}" type="text" class="form-control"  placeholder="data: ##/##/####">
        </div>
    </div>

    

    <hr>

    <div align="center">
        <button type="submit" class="btn btn-success">Salvar Registro</button>
        {% if caixa.pk > 0 %}
        <a class="btn btn-danger" href="/caixas/excluir/{{ caixa.pk }}/">Excluir</a>
        {% endif %}
    </div>
</form>
{% endblock conteudo %}
